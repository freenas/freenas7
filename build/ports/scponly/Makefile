PORTNAME=			scponly
PORTVERSION=	4.6
PORTREVISION=	3
CATEGORIES=		shells
COMMENT=			A tiny shell that only permits scp and sftp
MAINTAINER=		votdev@gmx.de

MASTER_SITES=				http://www.sublimation.org/scponly/ \
										${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=	scponly

EXTRACT_SUFX=		.tgz
GNU_CONFIGURE=	yes
PATCH_STRIP=		-p1

CONFIGURE_ARGS+=	--enable-passwd-compat

# define if you want to enable rsync compatibility.
BUILD_DEPENDS+=		rsync:${PORTSDIR}/net/rsync
RUN_DEPENDS+=			${BUILD_DEPENDS}
CONFIGURE_ARGS+=	--enable-rsync-compat

# define if you want to enable vanilla scp compatibility.
CONFIGURE_ARGS+=	--enable-scp-compat

# define if you want to enable sftp logging compatibility.
CONFIGURE_ARGS+=	--enable-sftp-logging-compat

# define if you want to enable WinSCP compatibility.
CONFIGURE_ARGS+=	--enable-winscp-compat

do-install:
	@${INSTALL_PROGRAM} -v ${WRKSRC}/scponly ${FREENAS_ROOTFS}/usr/local/bin

.include <bsd.port.mk>
